!function(e){"use strict";e.ammo=function(){var n=function(n){return n||e.document},t=function(t,r){return n(r).insertAdjacentHTML("beforeend",t.toString()),e.ammo},r=function(e,n){Object.keys(e).forEach(function(t,r){n(e[t],r)})},o=function(e){return null===e},i=function(e){return"function"==typeof e},a=function(e){return Array.isArray(e)},u=function(e,n){return e.hasOwnProperty(n)},c=function(e){return Object.keys(e)};return{onDomReady:function(n){e.document.addEventListener("DOMContentLoaded",n)},delegateEvent:function(e,t,r,o){n(o).addEventListener(e,function(e){e.target&&e.target.classList.contains(t)&&r(e)})},getClosest:function(e,t,r){return n(r).querySelectorAll(e).closest(t)},getClass:function(e,t){return n(t).getElementsByClassName(e)},getTag:function(e,t){return n(t).getElementsByTagName(e)},getId:function(e,t){return n(t).getElementById(e)},getEl:function(e,t){return n(t).querySelectorAll(e)},filterClass:function(e,n){var t=[];return r(n,function(n){n.classList.contains(e)&&t.push(n)}),t},append:function(t,r){return n(r).insertAdjacentHTML("afterend",t.toString()),e.ammo},appendIn:t,prepend:function(t,r){return n(r).insertAdjacentHTML("afterbegin",t.toString()),e.ammo},prependIn:function(t,r){return n(r).insertAdjacentHTML("beforebegin",t.toString()),e.ammo},remove:function(n,t){return(t||n.parentNode).removeChild(n),e.ammo},each:r,filter:function(e,n,t){var r=[];return e.filter(function(e,o){e[n]===t&&r.push({index:o,item:e})}),r},jsonCopy:function(e){return JSON.parse(JSON.stringify(e))},isObj:function(e){return"object"===(void 0===e?"undefined":_typeof(e))&&!a(e)&&!o(e)},isNull:o,isNum:function(e){return"number"==typeof e&&!isNaN(e)},isFunc:i,isArr:a,isStr:function(e){return"string"==typeof e},isUndef:function(e){return void 0===e},isBool:function(e){return"boolean"==typeof e},hasProp:u,hasMethod:function(e,n){return u(e,n)&&i(n)},hasKey:function(e,n){return c(e).indexOf(n)>-1},getKeys:c,getUrlParam:function(e){var n=new RegExp("[?&]"+e+"=([^&]*)").exec(window.location.search);return n&&decodeURIComponent(n[1].replace(/\+/g," "))},randomInclusive:function(e,n){return e=Math.ceil(e),n=Math.floor(n),Math.floor(Math.random()*(n-e+1))+e},recurIter:function e(n,t,r){n(r=r||0,function(o){if(!o)return t();e(n,t,++r)})},poll:function e(n,t,r){setTimeout(function(){n(function(o){if(o)return e(n,t,r);t()})},r)},buffer:function(){var e={};return function(n,t,r){n||(e[n]="0"),e[n]&&clearTimeout(e[n]),e[n]=setTimeout(r,t)}},extend:function(){var e=arguments,n=arguments[0],t=Object.assign(n,{}),r=[];return c(arguments).forEach(function(n,t){t>0&&r.push(e[n])}),r.forEach(function(e){Object.assign(t,e)}),t},compile:function(e,n){var t={start:"{iter}",end:"{/iter}"},r=function(e){var n=[],r=e.indexOf(t.start),o=e.indexOf(t.end);if(r>-1&&o>-1)for(;r>-1&&o>-1;)n.push({indexStart:r,indexEnd:o,html:e.substring(r,o).replace(t.start,"").replace(t.end,"").replace(/>\s+</g,"><").trim()}),r=e.indexOf(t.start,r+1),o=e.indexOf(t.end,o+1);return n}(e);return function(e,n){var o="";return n.forEach(function(n){var i=Object.keys(n),a=e;r.length>0?r.forEach(function(e){var r="",o=e.html;a=a.substring(0,e.indexStart).trim()+t.start+a.substring(e.indexEnd+t.end.length,a.length-1).trim(),i.forEach(function(t){o=e.html.replace(new RegExp("{key}","g"),t),o=o.replace(new RegExp("{value}","g"),n[t]),r+=o}),a=a.replace(t.start,r)}):i.forEach(function(e){a=a.replace(new RegExp("{"+e+"}","g"),n[e])}),o+=a}),o}(e,n)},template:function(e,r){var o="",a={start:"{{",end:"}}"},u={id:"data-ammo-id",idValue:"data-ammo-id-value",observer:"data-ammo-observer"},c=/(id:[a-zA-Z]+)/g,f=function(e,n){return"<span "+u.observer+'="'+e+'">'+n+"</span>"},s=function(e,n,t){var r=e.match(c)[0],o=e.indexOf(r);return""+e.substring(0,o-1)+u.id+"="+n+" "+u.idValue+"="+t+e.substring(o+r.length+1,e.length)},d=function(e){var n=e.match(c)[0],t=n.indexOf(":");return n.substring(t+1,n.length)}(e),l=function(e){var n=[],t=e.indexOf(a.start),r=e.indexOf(a.end);if(t>-1&&r>-1)for(;t>-1&&r>-1;){var o={indexStart:0,indexEnd:0,name:"",value:"",context:"",selector:""};o.name=e.substring(t,r).replace(a.start,"").replace(a.end,""),n.push(o),t=e.indexOf(a.start,t+1),r=e.indexOf(a.end,r+1)}return n}(e);return o=function(e,n,t,r){var o="";return n.forEach(function(n){var i=e;i=s(i,r,n[r]),t.length>0&&t.forEach(function(e){e.value=n[e.name],i=i.replace(new RegExp(a.start+e.name+a.end,"g"),f(e.name,n[e.name]))}),o+=i}),o.replace(/{/g,"").replace(/}/g,"")}(e,r,l,d),{render:function(e,n){t(o,e),i(n)&&n()},update:function(e,t,r){n().querySelectorAll("["+u.id+'="'+d+'"]['+u.idValue+'="'+e+'"]')[0].querySelectorAll("["+u.observer+'="'+t+'"]')[0].textContent=r},getId:function(e){return e.getAttribute(u.id)},getIdValue:function(e){return e.getAttribute(u.idValue)}}},req:function(e){var n=new XMLHttpRequest;if(n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&(200===n.status?e.callback(null,JSON.parse(n.responseText)):e.callback(n.responseText,null))},n.open(e.type||"GET",e.url),e.data){n.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var t="";c(e.data).forEach(function(n){t+=n+"="+encodeURIComponent(e.data[n])}),n.send(t)}else n.send()},store:function(e){var n=void 0;if("string"!=typeof e)return new Error("[Storage] Invalid storage key. Provide a key{string}.");var t={localStorage:{getStorage:function(){return localStorage},setStorageItem:function(e,n){this.getStorage().setItem(e,n)},getStorageItem:function(e){return this.getStorage().getItem(e)},removeStorageItem:function(e){this.getStorage().removeItem(e)}}};n=t.localStorage;var r=function(e){return a(n.getStorageItem(e))},o=function(e,t){n.setStorageItem(e,u(t))},i=function(e){n.removeStorageItem(e)},a=function(e){return JSON.parse(e)},u=function(e){return JSON.stringify(e)};return{setTemplate:function(e,r){return"string"!=typeof e?new Error("[Storage] Invalid template name. Provide a name{string}."):"object"!==(void 0===r?"undefined":_typeof(r))||"function"!=typeof r.setStorageItem||"function"!=typeof r.getStorageItem||"function"!=typeof r.removeStorageItem?new Error("[Storage] Invalid storage API. Provide an API, containing getStorageItem{function}, setStorageItem{function}, removeStorageItem{function}."):(t[e]=r,n=r,this)},getData:function(){return null!==r(e)?r(e):void 0},setData:function(n){return o(e,n),this},removeData:function(){return i(e),this},getItem:function(e){return this.getData()[e]},setItem:function(n,t){var r=this.getData();return r[n]=t,o(e,r),this},removeItem:function(n){var t=this.getData();return t[n]=void 0,o(e,t),this}}},sequence:function(){var e=[],n=void 0,t=void 0;return{chain:function(n){return e&&e.push(n),this},execute:function r(o){if(o="number"==typeof o?o:0,!e||o>=e.length)return!0;(0,e[o])({resolve:function(e){n=e,r(++o)},reject:function(e){t=e,r(++o)},response:{value:n,error:t}})}}},app:function(n){var t=!1,r=!1;if("object"===(void 0===n?"undefined":_typeof(n))&&null!==n&&(t=!0),t&&"boolean"==typeof n.global&&(r=n.global),r&&!t||r&&t&&!n.name)return new Error("[Initialzr] Invalid initialization. Global applications require a name. Pass a name as part of the app's config.");var o={config:n||{},nodes:{}},i={default:["events","renderers","actions"],app:["events","actions","common","modules","core"]},a=function(){var e=function(e){var n=o.nodes;return(Array.isArray(e)?e:[""+e]).map(function(e){n.hasOwnProperty(e)||(n[e]={})}),this},n=function(e,n,t){var r=o.nodes;return r.hasOwnProperty(e)&&!r[e].hasOwnProperty(n)&&"function"==typeof t&&(r[e][n]=t),this},t=function(e,n){var t=o.nodes;return!(!t.hasOwnProperty(e)||!t[e].hasOwnProperty(n)||"function"!=typeof t[e][n])&&t[e][n]};return{schema:function(n){return i.hasOwnProperty(n)&&e(i[n]),this},addSchema:function(e,n){return!i.hasOwnProperty(e)&&Array.isArray(n)&&(i[e]=n),this},augment:e,configure:function e(t){return!!o.nodes.hasOwnProperty(t)&&{node:function(e,r){return n(t,e,r),this},configure:e}},addNode:n,getNode:t,callNode:function(e,n,r){var o=void 0!==r?r:{},i=t(e,n);return i&&i(o),this},nodeExists:function(e,n){return"function"==typeof t(e,n)},getNodes:function(e){return e&&o.nodes.hasOwnProperty(e)?o.nodes[e]:o.nodes},getConfig:function(e){var n=o.config;return!!n.hasOwnProperty(e)&&n[e]}}};if(!r)return a();!function(n){e[o.config.name]=e[o.config.name]||n}(a())}}}()}(window);